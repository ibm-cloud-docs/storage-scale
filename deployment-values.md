---

copyright:
  years: 2022, 2024
lastupdated: "2025-02-26"

keywords:

subcollection: storage-scale

---

{:shortdesc: .shortdesc}
{:codeblock: .codeblock}
{:screen: .screen}
{:external: target="_blank" .external}
{:pre: .pre}
{:tip: .tip}
{:note: .note}
{:important: .important}
{:table: .aria-labeledby="caption"}

# Deployment values
{: #deployment-values}

The following deployment values can be used to configure the {{site.data.keyword.scale_short}} cluster instance on {{site.data.keyword.cloud}}:

| Value | Description | Is it required? | Default value |
| ----- | ----------- | --------------- | ------------ |
| `afm_server_profile` | The virtual instance or bare metal server instance profile type name used to create the AFM gateway nodes. For more information, see [Instance Profiles](https://cloud.ibm.com/docs/vpc?topic=vpc-profiles&interface=ui) and [bare metal server profiles](https://cloud.ibm.com/docs/vpc?topic=vpc-bare-metal-servers-profile&interface=ui). | No | bx2-32x128 |
| `afm_cos_config` | Provide details for the Cloud Object Storage (COS) instance, including information about the COS bucket, service credentials (HMAC key), AFM fileset, mode (such as Read-only (RO), Single writer (SW), Local updates (LU), and Independent writer (IW)), storage class (standard, vault, cold, or smart), and bucket type (single_site_location, region_location, cross_region_location). Note: The `afm_cos_config` can contain up to 5 entries. For more details on COS bucket locations, refer to [Endpoints and storage locations](/docs/cloud-object-storage/basics?topic=cloud-object-storage-endpoints) documentation. | No | [{cos_instance="", bucket_name="", bucket_region="us-south", cos_service_cred_key="", afm_fileset="fileset1", mode="iw", bucket_storage_class="smart", bucket_type="region_location"}] |
| `bastion_key_pair` | Name of the SSH key configured in your {{site.data.keyword.cloud_notm}} account that is used to establish a connection to the bastion and bootstrap nodes. Make sure that the SSH key is present in the same resource group and region where the cluster is being provisioned. If you do not have an SSH key in your {{site.data.keyword.cloud_notm}} account, create one by using the [SSH keys](/docs/vpc?topic=vpc-ssh-keys) instructions. | Yes | Null |
| `bastion_osimage_name` | Name of the image that used to provision the bastion node for the {{site.data.keyword.scale_short}} cluster. Only Ubuntu stock images of any version available to the {{site.data.keyword.cloud_notm}} account in the specific region are supported. | No | ibm-ubuntu-24-04-6-minimal-amd64-2 |
| `bastion_vsi_profile` | The virtual server instance profile types name used to create the bastion node. For more information, see [Instance profiles](/docs/vpc?topic=vpc-profiles). | No | cx2-2x4 |
| `bootstrap_osimage_name` | Name of the custom image that you would like to use to create the Bootstrap node for the Storage Scale cluster. The solution supports only the default custom image that is provided. | No | hpcc-scale-bootstrap-v2-7-0 |
| `bootstrap_vsi_profile` | The virtual server instance profile types name used to create the bootstrap node. For more information, see [Instance profiles](/docs/vpc?topic=vpc-profiles). | No | bx2-8x32 |
| `bms_boot_drive_encryption` | To enable the encryption for the boot drive of the bare metal server. Select true or false. | No | false |
| `client_cluster_key_pair`  | Name of the SSH keys configured in your {{site.data.keyword.cloud_notm}} account that is used to establish a connection to the client cluster nodes. Make sure that the SSH key is present in the same resource group and region where the cluster is provisioned. If you do not have an SSH key in your {{site.data.keyword.cloud_notm}} account, create one by using the [SSH keys](https://cloud.ibm.com/docs/vpc?topic=vpc-ssh-keys) instructions.	| Yes | Null |
| `client_vsi_osimage_name`  | Name of the image that you would like to use to create the client cluster nodes for the {{site.data.keyword.scale_full_notm}} cluster. The solution supports only stock images that use RHEL8.10 version.	| No |  `ibm-redhat-8-10-minimal-amd64-4`  |
| `client_vsi_profile` | The virtual server instance profile type name is used to create the client cluster nodes. For more information, see [Instance Profiles](https://cloud.ibm.com/docs/vpc?topic=vpc-profiles&interface=ui).	| No |   `cx2-2x4`  |
| `compute_cluster_filesystem_mountpoint` | Compute cluster (accessingCluster) file system mount point. The accessingCluster is the cluster that accesses the Owningcluster. For more information, see [Mounting a remote GPFS file system](https://www.ibm.com/docs/en/storage-scale/5.2.1?topic=system-mounting-remote-gpfs-file){: external}. | No | `/gpfs/fs1` |
| `compute_cluster_gui_password` | This compute cluster GUI password is used for logging in to the compute cluster through the GUI. The password must contain a minimum of eight characters. For a strong password, use a combination of uppercase and lowercase letters, one number, and a special character. Make sure that the password doesn't contain the username and must not start with a special character. | Yes | Null |
| `compute_cluster_gui_username` | GUI username to perform system management and monitoring tasks on the compute cluster. The username must be at least four characters (any combination of lowercase and uppercase letters). | Yes | Null |
| `compute_cluster_key_pair` | Name of the SSH key configured in your {{site.data.keyword.cloud_notm}} account that is used to establish a connection to the compute cluster nodes. Make sure that the SSH key is present in the same resource group and region where the cluster is provisioned. The solution supports only one SSH key that can be attached to compute nodes. If you do not have an SSH key in your {{site.data.keyword.cloud_notm}} account, create one by using the [SSH keys](/docs/vpc?topic=vpc-ssh-keys) instructions. | Yes | Null |
| `compute_vsi_profile` | The virtual server instance profile types name used to create the compute cluster nodes. For more information, see [Instance profiles](/docs/vpc?topic=vpc-profiles). | No | bx2-2x8 |
| `compute_vsi_osimage_name` | Name of the image that you would like to use to create the compute cluster nodes for the {{site.data.keyword.scale_full_notm}} cluster. The solution supports both stock and custom images that use RHEL 8.10 version that have the appropriate Storage Scale functionality. The supported custom images mapping for the compute nodes can be found [here](https://github.com/IBM/ibm-spectrum-scale-ibm-cloud-schematics/blob/main/image_map.tf#L15). If you'd like, you can follow the instructions for [Planning for custom images](https://cloud.ibm.com/docs/vpc?topic=vpc-planning-custom-images) to create your own custom image.	| No | hpcc-scale5221-rhel810 |
| `colocate_protocol_cluster_instances` | Enable it to use storage instances as protocol instances. | No | true |
| `enable_ldap` | Set this option to true to enable LDAP for {{site.data.keyword.cloud_notm}} HPC, with the default value set to false. | No | false |
| `filesystem_block_size` | File system [block size](https://www.ibm.com/docs/en/storage-scale/5.2.1?topic=considerations-block-size){: external}. {{site.data.keyword.scale_short}} supported block sizes (in bytes): 256K, 512K, 1M, 2M, 4M, 8M, and 16M. | No | 4M |
| `ibmcloud_api_key` | This is the {{site.data.keyword.cloud_notm}} API key for the {{site.data.keyword.cloud_notm}} account where the {{site.data.keyword.scale_full_notm}} cluster needs to be deployed. For more information on how to create an API key, see [Managing user API keys](/docs/account?topic=account-userapikey&interface=ui). | Yes | Null |
| `ibm_customer_number` | The {{site.data.keyword.IBM_notm}} Customer Number (ICN) that is used for the Bring Your Own License (BYOL) entitlement check. Note: An ICN is not required if the storage_type selected is evaluation. For more information on how to find your ICN, see [What is my {{site.data.keyword.IBM_notm}} Customer Number (ICN)?](https://www.ibm.com/support/pages/what-my-ibm-customer-number-icn){: external} | Conditional | Null |
| `filesets`  | Mount point(s) and size(s) in GB of file share(s) that can be used to customize shared file storage layout. Provide the details for up to 5 file shares.| No	| [{ mount_path = "/mnt/binaries", size = 0 }, { mount_path = "/mnt/data", size = 0 }] |
| `ldap_admin_password`  | The LDAP administrative password must be 8 to 20 characters long, with a mix of at least three alphabetic characters, including one uppercase and one lowercase letter. It must also include two numerical digits and at least one special character from (~@_+:) are required. It is important to avoid including the username in the password for enhanced security. [This value is ignored for an existing LDAP server].	 | Yes | Null |
| `ldap_basedns` | The dns domain name is used for configuring the LDAP server. If an LDAP server is already in existence, ensure to provide the associated DNS domain name.	|  No  | Null |
| `ldap_instance_key_pair` | Name of the SSH key configured in your {{site.data.keyword.cloud_notm}} account that is used to establish a connection to the LDAP server. Make sure that the SSH key is present in the same resource group and region where the LDAP Servers are provisioned. If you do not have an SSH key in your {{site.data.keyword.cloud_notm}} account, create one by using the [SSH keys](https://cloud.ibm.com/docs/vpc?topic=vpc-ssh-keys) instructions.	| Yes | Null |
| `ldap_server` |  Provide the IP address for the existing LDAP server. If no address is given, a new LDAP server is created. | No | Null|
|  `ldap_user_name`  |  Custom LDAP user for performing cluster operations. Note: Username must be between 4 to 32 characters, (any combination of lowercase and uppercase letters). [This value is ignored for an existing LDAP server].	| No | Null|
| `ldap_user_password` | The LDAP user password must be 8 to 20 characters long, with a mix of at least three alphabetic characters, including one uppercase and one lowercase letter. It must also include two numerical digits and at least one special character from (~@_+:) are required. It is important to avoid including the username in the password for enhanced security. [This value is ignored for an existing LDAP server].	| Yes | Null|
| `ldap_vsi_osimage_name` | Image name to be used for provisioning the LDAP instances. Note: Debian- based OS are only supported for the LDAP feature.	|  No | ibm-ubuntu-22-04-5-minimal-amd64-1 |
| `ldap_vsi_profile` | Profile to be used for LDAP virtual server instance.	| No  | cx2-2x4 |
| `management_vsi_profile` | The virtual server instance profile type name is used to create the management node. For more information, see [Instance Profiles](https://cloud.ibm.com/docs/vpc?topic=vpc-profiles&interface=ui).	| No  | bx2-8x32 |
|`ldap_server_cert` |Provide the existing LDAP server certificate. This value is required if the `ldap_server` variable is not set to null. If the certificate is not provided or is invalid, the LDAP configuration may fail. For more information on how to create or obtain the certificate, refer to [Enabling OpenLDAP service](https://cloud.ibm.com/docs/storage-scale?topic=storage-scale-enable-openldap).| No  | null |
| `protocol_server_profile` | The virtual instance or bare metal server instance profile type name to be used to create the protocol nodes. For more information, see [Instance Profiles](https://cloud.ibm.com/docs/vpc?topic=vpc-profiles&interface=ui) and [bare metal server profiles](https://cloud.ibm.com/docs/vpc?topic=vpc-bare-metal-servers-profile&interface=ui).	| No | cx2-32x64   |
| `remote_cidr_blocks` | Comma-separated list of IP addresses that can access the {{site.data.keyword.scale_short}} cluster bastion node through SSH. For security purposes, provide the public IP addresses assigned to the devices that are authorized to establish SSH connections (for example, \"169.45.117.34\"). To fetch the IP address of the device, use https://ipv4.icanhazip.com/. | Yes | Null |
| `resource_group` | Resource group name from your {{site.data.keyword.cloud_notm}} account where the VPC resources must be deployed. For more information, see [Managing resource groups](/docs/account?topic=account-rgs). | No | Default |
| `resource_prefix` | Prefix that is used to name the {{site.data.keyword.cloud_notm}} resources that are provisioned to build the {{site.data.keyword.scale_short}} cluster. Make sure that the prefix is unique since you cannot create multiple resources with the same name. The maximum length of supported characters is 64. | No | storage-scale |
|`scale_encryption_type` | To enable file system encryption, specify either `key_protect` or `gklm`. If neither is specified, the default value is 'null' and encryption is disabled. | No | Null |
| `scale_encryption_vsi_osimage_name` | Specify the image name to create the GKLM server when 'scale_encryption_type' is set to `gklm`. Only RHEL 8.10 stock images are supported. | No | `hpcc-scale-gklm4202-v2-5-2` |
| `scale_encryption_vsi_profile` | Specify the virtual server instance profile type name used to create the storage nodes. For more information, see [Instance profiles](/docs/vpc?topic=vpc-profiles). | Yes, if `scale_encryption_enabled` is set to "true". | bx2-2x8 |
| `scale_encryption_server_count` | Setting up a high-availability encryption server. You need to choose at least 2 and the maximum number of 5. | Yes, if `scale_encryption_enabled` is set to "true". | 2 |
| `scale_encryption_admin_password` | The password for administrative operations in KeyProtect or GKLM must be between 8 and 20 characters long. It must include at least three alphabetic characters (one uppercase and one lowercase), two numbers, and one special character from the set (~@_+:). The password should not contain the username. For more information, see [Password policy page](https://www.ibm.com/docs/en/gklm/4.2.1?topic=manager-password-policy){: external} to know more about the password policy of GKLM. | Yes, if `scale_encryption_enabled` is set to "true". | Null |
| `scale_encryption_dns_domain` | {{site.data.keyword.dns_full_notm}} domain name to be used for the GKLM cluster. Note: If an existing DNS domain is already in use, a new domain must be specified as existing domains are not supported. | No | gklmscale.com |
| `scale_encryption_instance_key_pair` | Name of the SSH key configured in your {{site.data.keyword.cloud_notm}} account that is used to establish a connection to the Scale Encryption key server nodes. Make sure that the SSH key is present in the same resource group and region where the key servers are provisioned. The solution supports only one SSH key that can be attached to key server nodes. If you do not have an SSH key in your {{site.data.keyword.cloud_notm}} account, create one by using the [SSH keys](/docs/vpc?topic=vpc-ssh-keys) instructions. | No | Null |
| `storage_bare_metal_osimage_name` | Name of the image that you would like to use to create the storage cluster nodes for the {{site.data.keyword.scale_short}} cluster. The solution supports only an RHEL 8.10 stock image. | No | hpcc-scale5211-rhel810 |
| `storage_bare_metal_server_profile` | Specify the bare metal server profile type name to be used to create the bare metal storage nodes. For more information, see [Bare metal server profiles](/docs/vpc?topic=vpc-bare-metal-servers-profile). | No | cx2d-metal-96x192 |
| `storage_cluster_filesystem_mountpoint` | {{site.data.keyword.scale_short}} storage cluster (owningCluster) file system mount point. The owningCluster is the cluster that owns and serves the file system to be mounted. For more information, see [Mounting a remote GPFS file system](https://www.ibm.com/docs/en/storage-scale/5.2.1?topic=considerations-block-size){: external}. | No | `/gpfs/fs1` |
| `storage_cluster_gui_password` | The storage cluster GUI password is used for logging in to the storage cluster through the GUI. The password must contain a minimum of 8 characters. For a strong password, use a combination of uppercase and lowercase letters, one number, and a special character. Make sure that the password doesn't contain the username and it must not start with a special character. | Yes | Null |
| `storage_cluster_gui_username` | GUI username to perform system management and monitoring tasks on the storage cluster. Note: The username must be at least four characters (any combination of lowercase and uppercase letters). | Yes | Null |
| `storage_cluster_key_pair` | Name of the SSH key configured in your {{site.data.keyword.cloud_notm}} account that is used to establish a connection to the storage cluster nodes. Make sure that the SSH key is present in the same resource group and region where the cluster is provisioned. The solution supports only one SSH key that can be attached to the storage nodes. If you do not have an SSH key in your {{site.data.keyword.cloud_notm}} account, create one by using the [SSH keys](/docs/vpc?topic=vpc-ssh-keys) instructions. | Yes | Null |
| `storage_type` | Select the {{site.data.keyword.scale_short}} file system deployment method. The {{site.data.keyword.scale_short}} scratch and evaluation types deploy the {{site.data.keyword.scale_short}} file system on virtual server instances, and the persistent type deploys the {{site.data.keyword.scale_short}} file system on bare metal servers. | No | scratch |
| `storage_vsi_osimage_name` |Name of the image that you would like to use to create the storage cluster nodes for the {{site.data.keyword.scale_full_notm}} cluster. The solution supports both stock and custom images that use RHEL8.10 version and that have the appropriate Storage Scale functionality. If you like, you can follow the instructions for [Planning for custom images](/docs/vpc?topic=vpc-planning-custom-images) to create your own custom image. | No | hpcc-scale5221-rhel810 |
| `storage_vsi_profile` | Specify the virtual server instance profile type name used to create the storage nodes. For more information, see [Instance profiles](/docs/vpc?topic=vpc-profiles). | No | bx2d-32x128 |
| `total_client_cluster_instances`  | Total number of client cluster instances that you need to provision. A minimum of 2 nodes and a maximum of 64 nodes are supported.  | No |  2  |
| `total_compute_cluster_instances` | Total number of compute cluster instances that you need to provision. A minimum of three nodes and a maximum of 64 nodes are supported. A count of 0 can be defined when no compute nodes are required. | No | 0 |
| `total_protocol_cluster_instances`  | Total number of protocol nodes that you need to provision. A minimum of 2 nodes and a maximum of 16 nodes are supported.	| No | 2  |
| `total_storage_cluster_instances` | Total number of storage cluster instances that you need to provision. A minimum of two nodes and a maximum of 64 nodes are supported if the storage type selected is scratch. A minimum of two nodes and a maximum of 42 nodes are supported if the storage type selected is persistent. | No | 2 |
| `total_afm_cluster_instances`  | Total number of instances that you need to provision AFM nodes and enable AFM.	| No | 0  |
| `vpc_availability_zones` | {{site.data.keyword.cloud_notm}} availability zone names within the selected region where the {{site.data.keyword.scale_short}} cluster must be deployed. For the current release, the solution supports only a single availability zone. For more information, see [Region and data center locations for resource deployment](/docs/overview?topic=overview-locations). | Yes | Null |
| `vpc_cidr_block` | {{site.data.keyword.vpc_short}} address prefixes that are needed for VPC creation. Since the solution supports only a single availability zone, provide one CIDR address prefix for VPC creation. For more information, see [Bring your own subnet](/docs/vpc?topic=vpc-configuring-address-prefixes). | No | 10.241.0.0/18 |
| `vpc_client_cluster_dns_domain`  | {{site.data.keyword.cloud_notm}} DNS domain name to be used for client cluster. Note: If an existing DNS domain is already in use, a new domain must be specified as existing domains are not supported.	| No | clntscale.com |
| `vpc_compute_cluster_dns_domain` | {{site.data.keyword.dns_full_notm}} domain name to be used for the compute cluster. Note: If an existing DNS domain is already in use, a new domain must be specified as existing domains are not supported. | No | compscale.com |
| `vpc_protocol_cluster_dns_domain`  | {{site.data.keyword.cloud_notm}} DNS Services domain name to be used for the protocol nodes. Note: If an existing DNS domain is already in use, a new domain must be specified as existing domains are not supported. | No | cesscale.com |
| `vpc_compute_cluster_private_subnets_cidr_blocks` | The CIDR block that is required for the creation of the compute cluster private subnet. Modify the CIDR block if it has already been reserved or used for other applications within the VPC or conflicts with anyon-premises CIDR blocks when using a hybrid environment. Provide only one CIDR block for the creation of the compute subnet. | No | 10.241.0.0/24 |
| `vpc_compute_subnet`  | Name of an existing subnet for compute nodes. If no value is given, a new subnet is created.  | Yes | Null |
| `vpc_dns_custom_resolver_name` | Name of an existing dns custom resolver. If no value is given, a new dns custom resolver will be created.  | Yes | Null |
| `vpc_dns_service_name`  |  Name of an existing dns resource instance. If no value is given, a new dns resource instance is created.  | Yes | Null |
| `vpc_name` | Name of an existing VPC in which the cluster resources will be deployed. If no value is given, then a new VPC is provisioned for the cluster. For more information, see [IBM Cloud VPC docs](https://cloud.ibm.com/docs/vpc). If your VPC has an existing DNS service make sure that the name of the DNS Service ends with prefix scale-scaledns [Example: cluster-name-scale-scaledns]	|Yes | Null|
|`vpc_protocol_cluster_private_subnets_cidr_blocks`  | The CIDR block that is required for the creation of the protocol nodes private subnet.  | No  |   ["10.241.17.0/24"]  |
| `vpc_protocol_subnet` | Name of an existing subnet for protocol nodes. If no value is given, a new subnet is created.   | Yes | Null |
| `vpc_storage_cluster_dns_domain` | {{site.data.keyword.dns_full_notm}} domain name to be used for the storage cluster. Note: If an existing DNS domain is already in use, a new domain must be specified as existing domains are not supported. | No | strgscale.com |
| `vpc_storage_cluster_private_subnets_cidr_blocks` | The CIDR block that is required for the creation of the storage cluster private subnet. Modify the CIDR block if it has already been reserved or used for other applications within the VPC or conflicts with any on-premises CIDR blocks when using a hybrid environment. Provide only one CIDR block for the creation of the storage subnet. | No | 10.241.1.0/24 |
| `vpc_storage_subnet` |  Name of an existing subnet for storage nodes. If no value is given, a new subnet is created.	 | Yes | Null|
{: caption="Deployment values" caption-side="top"}
